<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <style>
    @import "https://unpkg.com/open-props";

    /* optional imports that use the props */
    @import "https://unpkg.com/open-props/normalize.min.css";
    @import "https://unpkg.com/open-props/buttons.min.css";

    @import url("https://fonts.googleapis.com/css2?family=Karla:wght@400;500;600;700&display=swap");

    body {
      font-family: "Karla", sans-serif;
      font-weight: bold;
      display: grid;
      align-content: center;
      min-height: 100vh;
      background-color: var(--gray-2);
    }

    .container {
      max-width: min(90%, 45rem);
      margin-inline: auto;
      display: grid;
      gap: var(--size-6);
      padding: var(--size-6);
      background-color: var(--gray-0);
      border-radius: var(--radius-3);
      box-shadow: var(--shadow-4);
    }

    @media (min-width: 600px) {
      .container {
        grid-template-columns: 1fr auto 1fr;
      }
    }

    .divider {
      width: 100%;
      height: 2px;
      background: var(--gradient-15);
      border-radius: var(--radius-1);
    }

    @media (min-width: 600px) {
      .divider {
        display: grid;
        grid-row: span 3;
        grid-template-rows: subgrid;
        width: 2px;
        height: 100%;
      }
    }

    .list {
      display: grid;
      grid-row: span 3;
      grid-template-rows: subgrid;
      gap: var(--size-4);
    }

    .list > h2 {
      font-size: var(--font-size-5);
      background: var(--gradient-10);
      line-height: var(--font-lineheight-3);
      padding-inline: var(--size-6);
      text-align: center;
      color: var(--gray-0);
      border-radius: var(--radius-2);
    }

    .list > h3 {
      font-size: var(--font-size-3);
      justify-self: flex-end;
      background: var(--gradient-11);
      color: var(--gray-0);
      border-radius: var(--radius-2);
      line-height: var(--font-lineheight-2);
      padding-inline: var(--size-3);
      font-weight: var(--font-weight-6);
    }

    .list > ul {
      font-weight: var(--font-weight-4);
    }
  </style>
  <body>
    <div class="container">
      <div class="list">
        <h2>Shopping list</h2>
        <ul id="shoppingList"></ul>
        <h3 id="shoppingCost"></h3>
      </div>
      <div class="divider"></div>
      <div class="list">
        <h2>Essentials List</h2>
        <ul id="essentialList"></ul>
        <h3 id="essentialCost"></h3>
      </div>
    </div>
    <script>
      let shoppingList = [
        { text: "bread", cost: 20, need: true },
        { text: "butter", cost: 45, need: true },
        { text: "jam", cost: 60, need: false },
        { text: "ketchup", cost: 40, need: true },
        { text: "cheese", cost: 45, need: false },
      ];

      html = "";
      for (let index = 0; index < shoppingList.length; index++) {
        // Build HTML string for each item
        html += `<li>${shoppingList[index].text} : $${shoppingList[index].cost} </li>`;
      }
      // Use filter() to get a new array with only the items where item.need is true
      let filteredList = shoppingList.filter((item) => item.need);

      // Use reduce() to calculate total shopping cost
      let shoppingCost = shoppingList.reduce((acc, item) => acc + item.cost, 0);

      // Use map() to transform each item in filteredList into an HTML string
      let itemHTML = filteredList.map(
        (item) => `<li>${item.text} : $${item.cost}</li>`
      );

      // Use reduce() to calculate the total cost from the filteredList
      let essentialCost = filteredList.reduce(
        (acc, item) => acc + item.cost,
        0
      );

      // Set the innerHTML of the 'list' element to the joined itemHTML array
      document.getElementById("shoppingList").innerHTML = html;

      // Set the innerHTML of the 'essentialList' element to the joined itemHTML array
      document.getElementById("essentialList").innerHTML = itemHTML.join("");

      // Set the innerHTML of the 'cost' element to display the shoppingCost
      document.getElementById(
        "shoppingCost"
      ).innerHTML = ` Total Cost: $${shoppingCost} `;

      // Set the innerHTML of the 'cost' element to display the essentialCost
      document.getElementById(
        "essentialCost"
      ).innerHTML = ` Essential Cost: $${essentialCost} `;
    </script>
  </body>
</html>
